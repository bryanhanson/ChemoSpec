<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Outlier Diagnostic Plots for PCA of a Spectra Object — pcaDiag • ChemoSpec</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Outlier Diagnostic Plots for PCA of a Spectra Object — pcaDiag"><meta property="og:description" content="A function to carry diagnostics on the PCA results for a
Spectra object.  Basically a wrapper to Filzmoser's
pcaDiagplot which colors everything according to
the scheme stored in the Spectra object.  Works with PCA
results of either class prcomp or class princomp.  Works
with either classical or robust PCA results."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ChemoSpec</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">6.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/ChemoSpec.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bryanhanson/ChemoSpec/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Outlier Diagnostic Plots for PCA of a Spectra Object</h1>
    <small class="dont-index">Source: <a href="https://github.com/bryanhanson/ChemoSpec/blob/HEAD/R/pcaDiag.R" class="external-link"><code>R/pcaDiag.R</code></a></small>
    <div class="hidden name"><code>pcaDiag.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to carry diagnostics on the PCA results for a
<code><a href="Spectra.html">Spectra</a></code> object.  Basically a wrapper to Filzmoser's
<code><a href="https://rdrr.io/pkg/chemometrics/man/pcaDiagplot.html" class="external-link">pcaDiagplot</a></code> which colors everything according to
the scheme stored in the <code><a href="Spectra.html">Spectra</a></code> object.  Works with PCA
results of either class <code>prcomp</code> or class <code>princomp</code>.  Works
with either classical or robust PCA results.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pcaDiag</span><span class="op">(</span></span>
<span>  <span class="va">spectra</span>,</span>
<span>  <span class="va">pca</span>,</span>
<span>  pcs <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  quantile <span class="op">=</span> <span class="fl">0.975</span>,</span>
<span>  plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"OD"</span>, <span class="st">"SD"</span><span class="op">)</span>,</span>
<span>  use.sym <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>spectra</dt>
<dd><p>An object of S3 class <code><a href="Spectra.html">Spectra</a></code>.</p></dd>


<dt>pca</dt>
<dd><p>An object of class <code><a href="https://rdrr.io/r/stats/prcomp.html" class="external-link">prcomp</a></code>
modified to include a character string (<code>$method</code>) describing the
pre-processing carried out and the type of PCA performed.</p></dd>


<dt>pcs</dt>
<dd><p>As per <code><a href="https://rdrr.io/pkg/chemometrics/man/pcaDiagplot.html" class="external-link">pcaDiagplot</a></code>.  The number of
principal components to include.</p></dd>


<dt>quantile</dt>
<dd><p>As per <code><a href="https://rdrr.io/pkg/chemometrics/man/pcaDiagplot.html" class="external-link">pcaDiagplot</a></code>.  The
significance criteria to use as a cutoff.</p></dd>


<dt>plot</dt>
<dd><p>A character string, indicating whether to plot the score
distances or orthogonal distances, or both.  Options are <code>c("OD",
"SD")</code>.</p></dd>


<dt>use.sym</dt>
<dd><p>logical; if true, the color scheme is change to black and
symbols are used for plotting.</p></dd>


<dt>...</dt>
<dd><p>Parameters to be passed to the plotting routines. <em>Applies to base graphics only</em>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The returned value depends on the graphics option selected (see <code><a href="https://rdrr.io/pkg/ChemoSpecUtils/man/GraphicsOptions.html" class="external-link">GraphicsOptions</a></code>).</p><dl><dt>base:</dt>
<dd><p>A data frame or list containing the data plotted.  Assign the value and run <code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code>
              or <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names()</a></code> on it to see what it contains. Side effect is a plot.</p></dd>

 <dt>ggplot2:</dt>
<dd><p>The plot is displayed, and a <code>ggplot2</code> plot object is returned if the
                 value is assigned. The plot can be modified in the usual <code>ggplot2</code> manner.
                 If you want the plotted values, you can access them via the base graphics mode.</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>If both plots are desired, the output should be directed to a file rather
than the screen.  Otherwise, the 2nd plot overwrites the 1st in the active
graphics window.  Alternatively, just call the function twice, once
specifying <code>OD</code> and once specifying <code>SD</code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>K. Varmuza and P. Filzmoser <em>Introduction to Multivariate
Statistical Analysis in Chemometrics</em>, CRC Press, 2009.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/chemometrics/man/pcaDiagplot.html" class="external-link">pcaDiagplot</a></code> in package
<code>chemometrics</code> for the underlying function. Additional documentation at
<a href="https://bryanhanson.github.io/ChemoSpec/" class="external-link">https://bryanhanson.github.io/ChemoSpec/</a></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Bryan A. Hanson (DePauw University), Tejasvi Gupta.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># This example assumes the graphics output is set to ggplot2 (see ?GraphicsOptions).</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">SrE.IR</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="c_pcaSpectra.html">c_pcaSpectra</a></span><span class="op">(</span><span class="va">SrE.IR</span>, choice <span class="op">=</span> <span class="st">"noscale"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">pcaDiag</span><span class="op">(</span><span class="va">SrE.IR</span>, <span class="va">pca</span>, pcs <span class="op">=</span> <span class="fl">2</span>, plot <span class="op">=</span> <span class="st">"OD"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"OD Plot"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p1</span></span></span>
<span class="r-plt img"><img src="pcaDiag-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">pcaDiag</span><span class="op">(</span><span class="va">SrE.IR</span>, <span class="va">pca</span>, pcs <span class="op">=</span> <span class="fl">2</span>, plot <span class="op">=</span> <span class="st">"SD"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"SD Plot"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p2</span></span></span>
<span class="r-plt img"><img src="pcaDiag-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bryan A. Hanson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

